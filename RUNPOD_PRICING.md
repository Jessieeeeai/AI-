# 💰 RunPod 费用详解

## 🎯 GPU价格对比

### RTX 3090 (24GB VRAM) - 推荐 ⭐⭐⭐⭐⭐

**按需计费（On-Demand）：**
- 小时费用：**$0.34/小时**
- 人民币：约 **2.4元/小时**

**抢占式（Spot）：**
- 小时费用：**$0.20-0.25/小时**
- 人民币：约 **1.4-1.8元/小时**
- ⚠️ 可能被随时回收

**优点**：
- ✅ 24GB显存，满足所有模型需求
- ✅ 性价比最高
- ✅ 适合长期运行

**费用估算：**
```
每天8小时：  $0.34 × 8  = $2.72  ≈ 19元/天
每天24小时： $0.34 × 24 = $8.16  ≈ 59元/天
每月(8h/天)： $2.72 × 30 = $81.6  ≈ 585元/月
每月(24h/天)：$8.16 × 30 = $244.8 ≈ 1756元/月
```

---

### RTX 4090 (24GB VRAM) - 高性能

**按需计费（On-Demand）：**
- 小时费用：**$0.69/小时**
- 人民币：约 **5元/小时**

**抢占式（Spot）：**
- 小时费用：**$0.40-0.50/小时**
- 人民币：约 **2.8-3.6元/小时**

**优点**：
- ✅ 性能更强，生成速度更快
- ✅ 24GB显存
- ✅ 适合高并发场景

**费用估算：**
```
每天8小时：  $0.69 × 8  = $5.52  ≈ 40元/天
每天24小时： $0.69 × 24 = $16.56 ≈ 119元/天
每月(8h/天)： $5.52 × 30 = $165.6 ≈ 1189元/月
每月(24h/天)：$16.56 × 30 = $496.8 ≈ 3565元/月
```

---

### A100 (40GB VRAM) - 专业级

**按需计费（On-Demand）：**
- 小时费用：**$1.89/小时**
- 人民币：约 **13.5元/小时**

**适用场景**：
- 企业级应用
- 大规模模型训练
- 多用户高并发

**费用估算：**
```
每天8小时：  $1.89 × 8  = $15.12 ≈ 108元/天
每天24小时： $1.89 × 24 = $45.36 ≈ 325元/天
每月(8h/天)： $15.12 × 30 = $453.6 ≈ 3254元/月
每月(24h/天)：$45.36 × 30 = $1360.8 ≈ 9765元/月
```

---

## 📊 使用场景费用估算

### 场景1：个人开发测试

**配置**：RTX 3090 按需
**使用时间**：每天2-4小时
**月费用**：
```
$0.34 × 3小时 × 30天 = $30.6 ≈ 220元/月
```

**适合**：
- 开发调试
- 功能测试
- 小规模使用

---

### 场景2：小型工作室

**配置**：RTX 3090 按需
**使用时间**：每天8-12小时（工作时间）
**月费用**：
```
$0.34 × 10小时 × 30天 = $102 ≈ 732元/月
```

**适合**：
- 小团队使用
- 日常生产
- 中等规模项目

---

### 场景3：24小时在线服务

**配置**：RTX 3090 Spot（抢占式）
**使用时间**：24小时不间断
**月费用**：
```
$0.22 × 24小时 × 30天 = $158.4 ≈ 1137元/月
```

**风险**：可能被回收，需要自动重启机制

**配置**：RTX 3090 按需（稳定）
**月费用**：
```
$0.34 × 24小时 × 30天 = $244.8 ≈ 1756元/月
```

**适合**：
- 在线服务
- 客户使用
- 生产环境

---

### 场景4：高并发商业应用

**配置**：RTX 4090 按需
**使用时间**：24小时不间断
**月费用**：
```
$0.69 × 24小时 × 30天 = $496.8 ≈ 3565元/月
```

**适合**：
- 商业产品
- 高并发
- 追求性能

---

## 💡 省钱技巧

### 1. 按需启停 ⭐⭐⭐⭐⭐

**原理**：只在使用时运行Pod，不用时停止

**操作**：
```bash
# 停止Pod（数据保留在Volume中）
在RunPod控制台点击 "Stop"

# 重新启动
点击 "Start"
```

**节省**：可节省 **50-70%** 费用

**适合**：
- 开发测试阶段
- 非24小时服务
- 周末不使用

**示例**：
```
原费用：$0.34 × 24小时 × 30天 = $244.8/月
按需使用（每天8小时）：$0.34 × 8 × 30 = $81.6/月
节省：$163.2/月（节省67%）
```

---

### 2. 使用抢占式实例 ⭐⭐⭐⭐

**原理**：价格便宜30-40%，但可能被回收

**适合**：
- 可以容忍短暂中断
- 有自动重启机制
- 非核心业务时段

**节省**：**30-40%**

**示例**：
```
On-Demand: $0.34/小时
Spot:      $0.22/小时
节省：     $0.12/小时（35%）

每天24小时运行：
On-Demand: $244.8/月
Spot:      $158.4/月
节省：     $86.4/月
```

**实现自动重启**：
```bash
# 在Pod中设置
pm2 startup
pm2 save

# 使用RunPod API自动检测和重启
# （需要编写监控脚本）
```

---

### 3. 批量处理 ⭐⭐⭐

**原理**：集中时间批量生成，减少运行时间

**操作**：
- 收集用户请求
- 定时批量处理（如每2小时一次）
- 处理完成后停止Pod

**节省**：**60-80%**

**适合**：
- 非实时需求
- 可以接受延迟
- 预约生成模式

---

### 4. 使用Persistent Volume ⭐⭐⭐⭐⭐

**原理**：数据持久化，避免重复下载模型

**重要性**：
- ❌ 不使用Volume：每次启动需下载模型（30GB+），浪费时间和流量
- ✅ 使用Volume：数据永久保存，启动即可使用

**费用**：
```
100GB Volume: $4/月
节省的流量和时间：价值远超 $4
```

**推荐配置**：
- Container Disk: 50GB（系统）
- Volume Disk: 100-200GB（模型+数据）

---

### 5. 选择合适区域 ⭐⭐⭐

**原理**：不同数据中心价格可能略有差异

**操作**：
- 在Pod创建时对比不同区域价格
- 选择便宜且网络稳定的区域

**节省**：**5-10%**

---

### 6. 长期使用折扣 ⭐⭐⭐

**原理**：大额充值可能有折扣

**操作**：
- 充值 $100+ 可能有5-10%折扣
- 关注RunPod促销活动

---

## 📈 费用监控

### 1. 设置余额预警

```
在 Billing 页面：
Settings → Low Balance Alert → $10
```

当余额低于$10时会发送邮件提醒。

---

### 2. 实时监控费用

```bash
# 在RunPod控制台查看
Billing → Usage History
```

可以看到：
- 每小时费用
- 累计费用
- 预计月费用

---

### 3. 自动停止脚本

创建定时停止脚本：

```bash
# /workspace/auto_stop.sh
#!/bin/bash

# 检查是否有活跃连接
ACTIVE=$(pm2 list | grep "online" | wc -l)

if [ $ACTIVE -eq 0 ]; then
    echo "无活跃服务，准备停止Pod..."
    # 调用RunPod API停止Pod
    # （需要配置API Key）
fi
```

---

## 💳 充值方式

### 1. 信用卡
- Visa / Mastercard / AmEx
- 最方便，即时到账
- 支持自动充值

### 2. 加密货币
- USDT / BTC / ETH
- 适合国际支付
- 到账时间：10-30分钟

### 3. PayPal
- 部分地区支持
- 安全便捷

---

## 📊 总结建议

### 预算 < 500元/月
- 使用 RTX 3090
- 按需启停（每天4-8小时）
- 开发测试阶段

### 预算 500-1500元/月
- 使用 RTX 3090
- 可以24小时运行（使用Spot实例）
- 或每天12-16小时（On-Demand）
- 小规模生产环境

### 预算 1500-3000元/月
- 使用 RTX 3090/4090
- 24小时稳定运行
- 中等规模商业应用

### 预算 > 3000元/月
- 使用 RTX 4090 或多GPU
- 24小时高性能
- 大规模商业应用

---

## ⚠️ 避免超额费用

### 1. 忘记停止Pod

**风险**：持续计费，可能产生高额费用

**解决**：
- 设置日历提醒
- 使用手机App监控
- 设置自动停止脚本

### 2. 意外使用高价GPU

**风险**：错选A100等高价GPU

**解决**：
- 创建Pod时仔细检查价格
- 设置费用上限预警

### 3. 重复下载模型

**风险**：不使用Volume，每次都下载模型

**解决**：
- 必须使用Persistent Volume
- 一次下载，永久使用

---

## 📞 费用相关支持

- **查看详细账单**：RunPod Console → Billing → Usage History
- **申请退款**：support@runpod.io（特殊情况）
- **企业折扣**：sales@runpod.io

---

**关键提醒**：
1. ✅ 使用 RTX 3090（性价比最高）
2. ✅ 启用 Persistent Volume（避免重复下载）
3. ✅ 按需启停（节省50%+费用）
4. ✅ 设置余额预警（避免余额不足）
5. ✅ 定期检查运行状态（避免忘记关闭）

**预计月费用（推荐配置）**：
- 开发测试：200-400元/月
- 小规模生产：600-1000元/月
- 商业运营：1500-3000元/月
